/*
 * YJnumber v1.1.1 - Split Flap
 *
 * Copyright 2016, YongJun Shin
 *
 * Webagency Newriver - http://newriver.co.kr/
 *
 */

!function(a){var b={},c={delay:120,speed:700,comma:!1,lineHeight:null,startNum:""};a.fn.YJnumber=function(d){if(!this.length)return this;if(this.length>1)return this.each(function(){a(this).YJnumber(d)}),this;var e=b.el=this,f=b.num={},g=function(){f.settings=a.extend({},c,d),f.origin=e.text(),f.numArray=f.origin.split(""),f.max=f.numArray.length,f.max2=f.settings.comma?Math.floor(f.max/3)+f.max:f.max,f.height=null==f.settings.lineHeight?parseInt(e.css("line-height")):f.settings.lineHeight,e.css({display:"inline-block",height:f.height,position:"relative",overflow:"hidden"}),console.log(f.height),h()},h=function(){j(),i()},i=function(){k()},j=function(){var b,d,a="",c=0;e.empty();for(var g=f.max-1;g>=0;g--){d=0,a='<span class="number">';for(var h=f.numArray[g]-10;h<f.numArray[g];h++)d++,b=h<0?h+10:h,10==d&&(b=f.settings.startNum),a+='<span style="display:block; height:'+f.height+"px; line-height:"+f.height+'px;">'+b+"</span>";a+="</span>",c>0&&c%3==0&&f.settings.comma&&(a+='<span class="comma">,</span>'),c++,e.prepend(a)}f.num=e.children().css({display:"block",float:"left"}),e.children(".number").css({position:"relative",top:-(9*f.height)}),e.children(".comma").css({position:"relative",top:""===f.settings.startNum?-f.height:0})},k=function(){for(var a=0,b=f.max2-1;b>=0;b--)f.num.eq(b).delay(f.settings.delay*a).animate({top:0},f.settings.speed),a++};return g(),this}}(jQuery);